function [ out] = gradient( X,y, w,C )
    [N,m]=size(X);
     lam=2/(N*C);
     L=zeros(N,m+1);
    for i=1:N
        if (y(i)*(w(1:end-1)'*X(i,:)'+w(end))<1)    
            for j=1:m
%                 L(i,j)=max(0,1-y(i)*X(i,j));
            end 
%             L(i,m+1)=max(0,1-y(i));
            L(i,m+1)=1-y(i);
        end
    end
%     L
    out=lam*w+ (sum(L)')/N;
end

